<!-- Apply skill bonus -->
<div class="card shadow-sm mb-3">
  <div class="card-body p-3">
    <h3 class="h1 card-title">Apply skill bonus</h3>
    <p class="text-muted mb-2">Applies a bonus to all skills</p>
    <form action="{% url 'apply_skill_bonus' et.id %}" method="post" class="d-flex gap-2 align-items-center flex-wrap">
      {% csrf_token %}
      <label for="skill_bonus" class="form-label mb-0">Bonus</label>
      <input id="skill_bonus" name="bonus" type="text" class="form-control form-control-sm w-auto" />
      <button type="submit" class="btn btn-outline-primary btn-sm">Apply</button>
    </form>
  </div>
</div>

<!-- Standard skills -->
<div class="card shadow-sm mb-3">
  <div class="card-body p-3">
    <h3 class="h1 card-title">Standard skills</h3>
    <div class="row g-2">
      {% for skill in et.standard_skills %}
      <div class="col-12 col-md-6 col-xl-4">
        <div class="border rounded p-2 d-flex align-items-center gap-2">
          <div class="flex-grow-1 text-nowrap" style="min-width: 120px;">{{ skill.name }}</div>
          <div class="form-check m-0">
            <input id="skill_include_{{skill.skill.id}}" class="data form-check-input" type="checkbox" item_id="{{skill.id}}" item_type="et_skill_include" {% if skill.include %}checked="checked"{% endif %} />
          </div>
          <input id="skill_{{skill.skill.id}}" class="data form-control form-control-sm" style="min-width: 180px; max-width: 260px;" type="text" item_id="{{skill.id}}" item_type="et_skill_value" value="{{ skill.die_set }}" placeholder="e.g. STR+DEX+4D10+24" />
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>

{% if et.magic_skills %}
<div class="card shadow-sm mb-3">
  <div class="card-body p-3">
    <h3 class="h1 card-title">Magic skills</h3>
    <div class="row g-2">
      {% for skill in et.magic_skills %}
      <div class="col-12 col-md-6 col-xl-4">
        <div class="border rounded p-2 d-flex align-items-center gap-2">
          <div class="flex-grow-1 text-nowrap" style="min-width: 120px;">{{ skill.name }}</div>
          <div class="form-check m-0">
            <input id="pro_skill_include_{{skill.skill.id}}" class="data form-check-input" type="checkbox" item_id="{{skill.id}}" item_type="et_skill_include" {% if skill.include %}checked="checked"{% endif %} />
          </div>
          <input id="pro_skill_{{skill.skill.id}}" class="data form-control form-control-sm" style="min-width: 180px; max-width: 260px;" type="text" item_id="{{skill.id}}" item_type="et_skill_value" value="{{ skill.die_set }}" placeholder="e.g. STR+DEX+4D10+24" />
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endif %}

{% if et.professional_skills %}
<div class="card shadow-sm mb-3">
  <div class="card-body p-3">
    <div id="toggle_pro_skills" style="cursor: pointer;">
      <h3 class="h1 card-title d-inline">Professional skills</h3>
      <span class="text-muted small">Click to show/hide</span>
    </div>
    <div id="professional_skills_table" class="row g-2" {% if not et.included_professional_skills %}style="display: None;"{% endif %}>
      {% for skill in et.professional_skills %}
      <div class="col-12 col-md-6 col-xl-4">
        <div class="border rounded p-2 d-flex align-items-center gap-2">
          <div class="flex-grow-1 text-nowrap" style="min-width: 120px;">{{ skill.name }}</div>
          <div class="form-check m-0">
            <input id="pro_skill_include_{{skill.skill.id}}" class="data form-check-input" type="checkbox" item_id="{{skill.id}}" item_type="et_skill_include" {% if skill.include %}checked="checked"{% endif %} />
          </div>
          <input id="pro_skill_{{skill.skill.id}}" class="data form-control form-control-sm" style="min-width: 180px; max-width: 260px;" type="text" item_id="{{skill.id}}" item_type="et_skill_value" value="{{ skill.die_set }}" placeholder="e.g. STR+DEX+4D10+24" />
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endif %}

{% if et.custom_skills %}
<div class="card shadow-sm mb-3">
  <div class="card-body p-3">
    <h3 class="h1 card-title">Custom skills</h3>
    <div class="row g-2">
      {% for skill in et.custom_skills %}
      <div class="col-12">
        <div class="border rounded p-2 d-flex align-items-center gap-2">
          <input id="custom_skill_name_{{skill.skill.id}}" class="data form-control form-control-sm" type="text" item_id="{{skill.id}}" item_type="et_custom_skill_name" value="{{skill.name}}" style="max-width: 260px;" />
          <div class="form-check m-0">
            <input id="custom_skill_include_{{skill.id}}" class="data form-check-input" type="checkbox" item_id="{{skill.id}}" item_type="et_custom_skill_include" {% if skill.include %}checked="checked"{% endif %} />
          </div>
          <input id="custom_skill_{{skill.skill.id}}" class="data form-control form-control-sm" style="min-width: 180px; max-width: 260px;" type="text" item_id="{{skill.id}}" item_type="et_custom_skill_value" value="{{ skill.die_set }}" placeholder="e.g. STR+DEX+4D10+24" />
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endif %}

<button class="add_custom_skill btn btn-primary btn-sm" et_id="{{ et.id }}">Add custom skill</button>
